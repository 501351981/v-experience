(function(l,s){typeof exports=="object"&&typeof module!="undefined"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(l=typeof globalThis!="undefined"?globalThis:l||self,s(l["v-focus-next"]={}))})(this,function(l){"use strict";function s(e){for(;e!==document.body;){if(e.style.display==="none")return!0;e=e.parentNode}return!1}function c(e){return e.tagName==="INPUT"&&!e.disabled&&!s(e)&&!["submit","reset","file","hidden","checkbox","radio"].includes(e.type)?!0:e.tagName==="TEXTAREA"&&!e.disabled}function E(e,t){let n=[...e.querySelectorAll(t)];for(let i=0;i<n.length;i++){let u=n[i];if(["INPUT","TEXTAREA"].includes(u.tagName)){if(c(u))return u}else{let r=[...u.querySelectorAll("input, textarea")].find(f=>c(f));if(r)return r}}return null}function T(e,t){return[...e.querySelectorAll(t)].reduce(function(n,i){if(["INPUT","TEXTAREA"].includes(i.tagName))return c(i)&&n.push(i),n;let u=[...i.querySelectorAll("input, textarea")].filter(o=>c(o));return u.length&&n.push(...u),n},[])}function a(e,t){let n=t.value||"input, textarea",i=E(e,n);i&&i.focus()}function d(e,t,n){let i=n.value||"input, textarea",u=T(e,i),o=!1,r=u.findIndex((f,O)=>f===t||f.contains(t)?!0:t.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_FOLLOWING?(o=!0,!0):!1);return o?u[r]:r===-1||r===u.length-1?null:u[r+1]}function m(e,t,n){t.modifiers.autoFocus&&a(n.el,t);function i(u){if(u.keyCode!==13)return;let o=u.target;if(o.tagName==="TEXTAREA")return;let r=d(n.el,o,t);r&&setTimeout(()=>{r.focus()})}e.addEventListener("keydown",i),e.__FOCUS_NEXT_KEYDOWN_HANDLER__=i}function x(e,t,n){e.removeEventListener("keydown",e.__FOCUS_NEXT_KEYDOWN_HANDLER__)}const N={mounted:m,beforeUnmount:x};function y(e,t,n){t.modifiers.autoFocus&&a(n.$el||n.elm,t);function i(u){if(u.keyCode!==13)return;let o=u.target;if(o.tagName==="TEXTAREA")return;let r=d(n.$el||n.elm,o,t);r&&setTimeout(()=>{r.focus()})}e.addEventListener("keydown",i),e.__FOCUS_NEXT_KEYDOWN_HANDLER__=i}function A(e,t,n){e.removeEventListener("keydown",e.__FOCUS_NEXT_KEYDOWN_HANDLER__)}const _={inserted:y,unbind:A},p=_,v=N,h={install:function(e){let t=e.version;t.startsWith("3")?e.directive("focus-next",N):t.startsWith("2")?e.directive("focus-next",_):console.error("v-focus-next只支持vue2/3≈")}};l.default=h,l.vFocusNext2=p,l.vFocusNext3=v,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
