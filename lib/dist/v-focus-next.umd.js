(function(s,f){typeof exports=="object"&&typeof module!="undefined"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(s=typeof globalThis!="undefined"?globalThis:s||self,f(s["v-focus-next"]={}))})(this,function(s){"use strict";function f(t){for(;t!==document.body;){if(t.style.display==="none")return!0;t=t.parentNode}return!1}function E(t){for(let n=0;n<t.length;n++){const e=t[n];if(e.tagName==="INPUT"&&!e.disabled&&!f(e)&&!["submit","reset","file","hidden","checkbox","radio"].includes(e.type))return e;if(e.tagName==="TEXTAREA"&&!e.disabled)return e}}function c(t,n){return[...t.querySelectorAll(n)].reduce(function(e,i){if(["INPUT","TEXTAREA"].includes(i.tagName))return e.push(i),e;let u=i.querySelectorAll("input, textarea");if(u.length){let r=E(u);return r&&e.push(r),e}return e},[]).filter(e=>e.tagName==="INPUT"&&!e.disabled&&!f(e)&&!["submit","reset","file","hidden","checkbox","radio"].includes(e.type)?!0:e.tagName==="TEXTAREA"&&!e.disabled)}function d(t,n){let e=n.value||"input, textarea",i=c(t,e);i.length&&setTimeout(()=>{i[0].focus()})}function a(t,n,e){let i=e.value||"input, textarea",u=c(t,i),r=!1,o=u.findIndex((l,A)=>l===n||l.contains(n)?!0:n.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?(r=!0,!0):!1);return r?u[o]:o===-1||o==u.length-1?null:u[o+1]}function T(t,n,e){n.modifiers.autoFocus&&d(e.el,n);function i(u){if(u.keyCode!==13)return;let r=u.target;if(r.tagName==="TEXTAREA")return;let o=a(e.el,r,n);o&&setTimeout(()=>{o.focus()})}t.addEventListener("keydown",i),t.__FOCUS_NEXT_KEYDOWN_HANDLER__=i}function x(t,n,e){t.removeEventListener("keydown",t.__FOCUS_NEXT_KEYDOWN_HANDLER__)}const N={mounted:T,beforeUnmount:x};function m(t,n,e){n.modifiers.autoFocus&&d(e.$el||e.elm,n);function i(u){if(u.keyCode!==13)return;let r=u.target;if(r.tagName==="TEXTAREA")return;let o=a(e.$el||e.elm,r,n);o&&setTimeout(()=>{o.focus()})}t.addEventListener("keydown",i),t.__FOCUS_NEXT_KEYDOWN_HANDLER__=i}function p(t,n,e){t.removeEventListener("keydown",t.__FOCUS_NEXT_KEYDOWN_HANDLER__)}const _={inserted:m,unbind:p},y=_,h=N,v={install:function(t){let n=t.version;n.startsWith("3")?t.directive("focus-next",N):n.startsWith("2")?t.directive("focus-next",_):console.error("v-focus-next只支持vue2/3≈")}};s.default=v,s.vFocusNext2=y,s.vFocusNext3=h,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
